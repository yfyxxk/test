(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-45491699"],{1557:function(t,s,i){},"84b1":function(t,s,i){"use strict";i.r(s);var e=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"goods-container"},[i("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.flag2&&t.loadMore,expression:"flag2&&loadMore"}],attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"5"}},t._l(t.goodslist,(function(s){return i("li",{key:s.id,staticClass:"goods-item",on:{click:function(i){return t.goInfo(s.id)}}},[i("div",[i("img",{attrs:{src:s.img_url,alt:"商品图片"}}),i("h1",{staticClass:"goods-title"},[t._v(t._s(s.title))])]),i("div",{staticClass:"goods-subtitle"},[i("p",{staticClass:"price"},[i("span",{staticClass:"new"},[t._v("￥"+t._s(s.sell_price))]),i("del",{staticClass:"old"},[t._v("￥"+t._s(s.market_price))])]),i("p",{staticClass:"sell"},[i("span",[t._v("热卖中")]),i("span",[t._v("剩"+t._s(s.stock_quantity)+"件")])])])])})),0),i("p",{directives:[{name:"show",rawName:"v-show",value:t.flag,expression:"flag"}],staticClass:"loading"},[i("mt-spinner",{attrs:{type:"fading-circle",size:40,color:"#26a2ff"}})],1)])},a=[],o=i("75fc"),n={name:"goodlist",data:function(){return{num:1,goodslist:[],flag:!1,flag2:!0,dis:0}},created:function(){this.getGoodsList()},beforeRouteLeave:function(t,s,i){t.meta.keepAlive?this.dis=this.$el.parentElement.scrollTop:this.dis=0,i()},beforeRouteEnter:function(t,s,i){i((function(t){t.$el.parentElement.scrollTop=t.dis}))},methods:{getGoodsList:function(){var t=this;this.$http.get("api/getgoods?pageindex="+this.num).then((function(s){var i;if(0===s.body.status){if((i=t.goodslist).push.apply(i,Object(o["a"])(s.body.message)),0===s.body.message.length)return t.flag2=!1}else t.$toast("获取信息失败")}))},loadMore:function(){var t=this;this.loading=!0,this.flag=!0;var s=setTimeout((function(){t.num++,t.getGoodsList(),t.loading=!1,t.flag=!1}),2e3);0==this.flag2&&(this.flag=!1,clearTimeout(s))},goInfo:function(t){this.$router.push({name:"goodsinfo",params:{id:t}})}}},l=n,r=(i("c6a9"),i("2877")),c=Object(r["a"])(l,e,a,!1,null,"47b359ba",null);s["default"]=c.exports},c6a9:function(t,s,i){"use strict";var e=i("1557"),a=i.n(e);a.a}}]);